"use strict";function getElementsByAttribute(a,b){for(var c=[],d=a.querySelectorAll("*"),e=0,f=d.length;f>e;e++)null!==d[e].getAttribute(b)&&c.push(d[e]);return c}function handleClick(){}function init(a){function b(a,b,c){for(var d=NUMBEROFBOUNDINPUTS;d--;)if(inputsThatAreBound[d].obj===a)return void inputsThatAreBound[d].boundTo.push({property:b,node:c});NUMBEROFBOUNDINPUTS++,inputsThatAreBound.push({obj:a,boundTo:[{property:b,node:c}]})}function c(a,b,c){for(var d=NUMBEROFBOUNDTEXTNODES;d--;)if(textNodesThatAreBound[d].obj===a)return void textNodesThatAreBound[d].boundTo.push({property:b,node:c});NUMBEROFBOUNDTEXTNODES++,textNodesThatAreBound.push({obj:a,boundTo:[{property:b,node:c}]})}function d(a,c,d){inputsThatAreBound[a]=null,a.theThingImBoundTo=c,a.thePropertyImBoundTo=d,b(c,d,a),a.addEventListener(WHATEVENTTRIGGERSDATABINDING,function(a){window.setTimeout(function(){a.target.theThingImBoundTo[a.target.thePropertyImBoundTo]=a.target.value,e(a.target.theThingImBoundTo,a.target.thePropertyImBoundTo)},1)})}function e(a,b){g(a,b),f(a,b)}function f(a,b){for(var c=NUMBEROFBOUNDTEXTNODES;c--;)if(textNodesThatAreBound[c].obj===a)for(var d=textNodesThatAreBound[c].boundTo.length;d--;){var e=textNodesThatAreBound[c].boundTo[d];e.property===b&&(e.node.textContent=a[b])}}function g(a,b){for(var c=NUMBEROFBOUNDINPUTS;c--;)if(inputsThatAreBound[c].obj===a)for(var d=inputsThatAreBound[c].boundTo.length;d--;){var e=inputsThatAreBound[c].boundTo[d];e.property===b&&(e.node.value=a[b])}}for(var h,i,j,k=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);h=k.nextNode();)for(i in props){var l=i,m=new RegExp("{{"+l+"}}","ig");m.test(h.textContent)&&(j=h.textContent.replace(m,props[l]),h.textContent=j,c(props,l,h))}for(var n=a.getElementsByTagName("input"),o=n.length;o--;){var p=n[o].getAttribute("value.bind");p&&(n[o].value=props[p],d(n[o],props,p))}document.body.appendChild(docfrag)}var NUMBEROFBOUNDINPUTS=0,NUMBEROFBOUNDTEXTNODES=0,WHATEVENTTRIGGERSDATABINDING="keydown",inputsThatAreBound=[],textNodesThatAreBound=[],views={view:{},scope:{},children:[]},props={firstName:"jon",lastName:"smith",handleClick:function(){}},template=document.getElementById("template").innerHTML,docfrag=document.createDocumentFragment(),fragProxy=document.createElement("div");fragProxy.innerHTML=template,docfrag.appendChild(fragProxy),init(fragProxy);